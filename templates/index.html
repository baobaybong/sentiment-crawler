<!DOCTYPE html>
<html>
    <head>
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
        
        <title>Sentiment Analysis</title>
        <style>
            
        </style>
    </head>

    <body>
        <div class="mx-auto w-75">
            <h1>Sentiment Analysis</h1>
        </div>

        <div class="card p-3 bg-light mx-auto w-75">
            <h2>Single-text sentiment prediction</h2>

            <form 
                _='on submit
                halt the event
                set text to (first <input/> in me).value
                put "Predicting..." into the next <p/>
                
                fetch  `/predict?text=${text}` then
                put `The predicted sentiment for "${text}" is: ${result}` into the next <p/>'>
                <label for="text">Enter text:</label>
                <input name="text">
                <button>Submit</button>
            </form>

            <p class="mb-0 mt-2">Click Submit to predict sentiment</p>
        </div>

        <div class="card p-3 bg-light mx-auto w-75">
            <h2>Twitter Sentiment Scraping</h2>

            <form 
                _="on submit
                halt the event
                set keyword to (first <input/> in me).value
                put 'Scraping...' into the next <p/>
                set (next <img/>)'s @src to ''

                fetch `/scrape?keyword=${keyword}` then
                put '' into the next <p/>
                set (next <img/>)'s @src to `/plot?keyword=${keyword}`

                put the result into #scraped-data
                add .table .table-bordered .table-striped .table-hover .table-sm to <table/>
                add .text-center to <th/>
                add .text-center .alert .alert-warning .mx-auto .w-75 to (<p/> in #scraped-data)">
                <label for="keyword">Enter keyword to scrape:</label>
                <input name="keyword">
                <button>Submit</button>
            </form>

            <p class="mb-0 mt-2">Click Submit to scrape and predict sentiment on tweets containing the keyword (could be a person's name or a topic)</p>
            <img>
        </div>

        <div id="scraped-data"></div>

        <footer>
            <p class="text-center fw-bold mb-0 mt-2">Made by Bao Bay Bong. If you liked this Space, consider giving it and <a href="https://github.com/baobaybong/sentiment-scraper" target="_blank">the GitHub repo</a> a starðŸ˜€</p>
            <p class="text-center fw-bold">Disclaimer: This website can only be used as a demo and does not reflect my opinion on what is positive and negative</p>
        </footer>
    </body>

    <script src="https://unpkg.com/htmx.org@1.9.10"></script>
    <script src="https://unpkg.com/hyperscript.org@0.9.12"></script>

</html>